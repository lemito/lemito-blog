(this.webpackJsonplemitoFrontend=this.webpackJsonplemitoFrontend||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/pre-upload-img-gray.5f7be11a.svg"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/pre-upload-img-black.3f95cbbc.svg"},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/backside-logo.bd629c1f.png"},function(e,t,a){e.exports=a.p+"static/media/backside-logo-max768.a80fabb5.jpg"},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(14),o=a.n(l),i=(a(37),a(6)),r=a(7),c=a(15),h=a.n(c);a(38);class d extends n.Component{render(){const{id:e,title:t,state:a,isSelected:n,handleTitleSelect:l}=this.props;let o="title-div";return"DRAFT"===a?o="draft-title":-100===e&&(o="new-letter-title"),s.a.createElement("div",{className:n?"selected-title-div":o,onClick:()=>l(this.props)},t)}}var m,u=d;var p="",g="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-__-";for(m=1;m<8;m++){var v=Math.floor(Math.random()*g.length+1);p+=g.charAt(v)}const E="https://shrouded-retreat-21347.herokuapp.com",f=p,b=["ALL","PUBLIC"];console.log("Your access token is "+p);var C=a(29),w=a.n(C);const S=e=>{let t={};return void 0!==e.headers&&(t=e.headers),localStorage.getItem(f)&&(t.Authorization="Bearer "+localStorage.getItem(f)),w()({url:e.url,method:e.method,data:e.data,headers:t})};a(57);class N extends n.Component{constructor(){super(...arguments),this.chronology=[{value:"new",title:"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435"},{value:"chronology",title:"\u0445\u0440\u043e\u043d\u043e\u043b\u043e\u0433\u0438\u044f"}],this.state={titles:[],selectedTitleId:0,selectedChronology:this.chronology[0],newLetterTitle:!1},this.componentWillMount=async()=>{const{contentsState:e,history:t,match:a,path:n,mode:s}=this.props;if(null===e){let e=[];if(s===b[0]?(await S({url:E+"/authorship/letters/titles",method:"GET",data:null}).then(t=>{e=t.data}),this.setState({newLetterTitle:!0})):s===b[1]&&await S({url:E+"/public/letters/titles",method:"GET",data:null}).then(t=>{e=t.data}),e=this.chronologySort(e,this.chronology[0].value),"last"!==a.params.id)this.setState({titles:e,selectedTitleId:parseInt(a.params.id)});else{const a=e[0].id;t.push("".concat(n,"/").concat(a)),this.setState({titles:e,selectedTitleId:a})}}else this.setState({titles:e.titles,selectedTitleId:e.selectedTitleId,selectedChronology:e.selectedChronology,newLetterTitle:e.newLetterTitle})},this.handleChronologySelect=e=>{const t=this.chronologySort(this.state.titles,e.state),a=this.chronology.find(t=>t.value===e.state);this.setState({titles:t,selectedChronology:a})},this.chronologySort=(e,t)=>(t===this.chronology[0].value?(e.sort((e,t)=>e.dateOfPublication<t.dateOfPublication?1:(e.dateOfPublication,t.dateOfPublication,-1)),this.setState({titles:e})):t===this.chronology[1].value&&e.sort((e,t)=>e.dateOfPublication>t.dateOfPublication?1:(e.dateOfPublication,t.dateOfPublication,-1)),e),this.handleTitleSelect=e=>{this.setState({selectedTitleId:e.id}),function(){const e=document.getElementById("toggle-input");e.checked&&(e.checked=!1)}()},this.updateContents=()=>{const{history:e,path:t}=this.props;e.push("".concat(t,"/new_letter")),this.componentWillMount()}}componentWillUnmount(){this.props.beforeLettersContentsUnMount(this.state)}render(){const{path:e}=this.props,{selectedChronology:t,selectedTitleId:a,newLetterTitle:n}=this.state;return s.a.createElement("div",null,s.a.createElement("input",{id:"toggle-input",type:"checkbox"}),s.a.createElement("label",{htmlFor:"toggle-input",id:"toggle-label"},"\u043f\u0438\u0441\u044c\u043c\u0430"),s.a.createElement("div",{className:"letters-content-div animated"},s.a.createElement("div",{className:"chronology-controller-div"},this.chronology.map((e,a)=>s.a.createElement("span",{className:"chronology-span",key:a},s.a.createElement(u,{title:e.title,state:e.value,isSelected:t.value===e.value,handleTitleSelect:this.handleChronologySelect})))),s.a.createElement("div",{className:"content-list-div"},n?s.a.createElement(i.b,{to:"".concat(e,"/new_letter"),className:"react-router-link"},s.a.createElement(u,{id:-100,title:"\u043d\u043e\u0432\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e",handleTitleSelect:()=>{}})):null,this.state.titles.map((t,n)=>s.a.createElement(i.b,{to:"".concat(e,"/").concat(t.id),className:"react-router-link",key:n},s.a.createElement(u,{id:t.id,title:t.title,dateOfPublication:t.dateOfPublication,state:t.state,isSelected:a===t.id,handleTitleSelect:this.handleTitleSelect}))))))}}var y=N;a(63);class x extends n.Component{render(){return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35.25 35.25",className:"telegram"},s.a.createElement("path",{d:"M29.54,1.13,4.29,9.55a5,5,0,0,0,0,9.49l10.25,3.42L18,32.71a5,5,0,0,0,9.49,0L35.87,7.46a5,5,0,0,0-6.33-6.33Z",transform:"translate(-0.87 -0.87)"}))}}var T=x;a(64);class O extends n.Component{render(){return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25.21 28.57",className:"git"},s.a.createElement("path",{d:"M24,31.53c0-.6,0-2.58,0-5a4.39,4.39,0,0,0-1.24-3.4c4.08-.46,8.38-2,8.38-9.06a7.1,7.1,0,0,0-1.89-4.93A6.57,6.57,0,0,0,29,4.26S27.5,3.76,24,6.14a17.34,17.34,0,0,0-9.19,0c-3.5-2.38-5-1.88-5-1.88a6.57,6.57,0,0,0-.18,4.85A7.1,7.1,0,0,0,7.69,14c0,7,4.28,8.61,8.36,9.07a3.92,3.92,0,0,0-1.17,2.46A3.9,3.9,0,0,1,9.54,24a3.86,3.86,0,0,0-2.81-1.89s-1.79,0-.13,1.11a4.86,4.86,0,0,1,2,2.69s1.08,3.57,6.18,2.46c0,1.53,0,2.69,0,3.12v1.26H24Z",transform:"translate(-5.89 -4.21)"}))}}var P=O;a(65);class I extends n.Component{render(){return s.a.createElement("div",{className:"about-div animated"},s.a.createElement("div",{className:"inner-html"},s.a.createElement("p",null,k)),s.a.createElement("div",{className:"contacts-div"},s.a.createElement("div",{className:"contact-div"},s.a.createElement("a",{href:"https://t.me/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(T,null)),"author"),s.a.createElement("div",{className:"contact-div"},s.a.createElement("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(P,null)),"sorce")))}}const k="I am lemito.";var L=I;a(66);class A extends n.Component{render(){const{isAbout:e}=this.props;return(s.a.createElement("div",{className:"footer-div"},s.a.createElement("span",{onClick:this.props.showAbout},e?U[1].title:U[0].title)))}}const U=[{value:"open",title:"\u043e\u0431\u043e \u043c\u043d\u0435"},{value:"close",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}];var M=A;a(67),a(68),a(69);class R extends n.Component{constructor(){super(...arguments),this.refToContentsUpdate=s.a.createRef(),this.state={isAbout:!1,contentsState:null},this.showAbout=()=>{this.setState(e=>({isAbout:!e.isAbout})),window.scroll(0,0)},this.beforeLettersContentsUnMount=e=>{this.setState({contentsState:e})},this.updateContents=()=>{this.refToContentsUpdate.current.updateContents()}}render(){const{isAbout:e,contentsState:t}=this.state;return(s.a.createElement("div",{className:"background-left-div"},s.a.createElement("div",{className:"left-panel-div"},e?s.a.createElement(L,null):s.a.createElement(y,Object.assign({},this.props,{contentsState:t,beforeLettersContentsUnMount:this.beforeLettersContentsUnMount,ref:this.refToContentsUpdate})),s.a.createElement(M,{showAbout:this.showAbout,isAbout:e}))))}}var D=R;a(70);class B extends n.Component{render(){return s.a.createElement("div",{className:"loader"},"loading...")}}var H=B,_=a(17),j=a.n(_);a(72);class V extends n.Component{render(){let e=j()().local();void 0!==this.props.date&&(e=j()(this.props.date));let t=e.date();t<10&&(t="0"+t);let a=e.month()+1;a<10&&(a="0"+a);let n=e.year().toString();return(s.a.createElement("div",{className:"date-div"},t+" . "+a+" . "+n))}}var Z=V;a(73);class F extends n.Component{constructor(){super(...arguments),this.state={id:-1,title:"",dateOfPublication:0,htmlText:"",pictureURL:"",isLoading:!0},this.componentDidMount=async()=>{var e;await(e=parseInt(this.props.match.params.id),S({url:E+"/public/letters/"+e,method:"GET",data:null})).then(e=>{const{id:t,title:a,dateOfPublication:n,htmlText:s,pictureName:l}=e.data;this.setState({id:t,title:a,dateOfPublication:n,htmlText:s,isLoading:!1})})}}render(){const{title:e,dateOfPublication:t,htmlText:a,pictureURL:n,isLoading:l}=this.state;return(s.a.createElement("div",{className:"background-letter-div"},s.a.createElement("div",{className:"letter-div animated"},l?s.a.createElement(H,null):s.a.createElement("div",null,s.a.createElement("div",{className:"letter-title-div"},e),s.a.createElement(Z,{date:t}),s.a.createElement("div",{className:"html-text",dangerouslySetInnerHTML:{__html:a}})),s.a.createElement("div",{className:"cookie"},s.a.createElement(h.a,{onAccept:()=>{alert("yay!")},debug:!1,enableDeclineButton:!0,declineButtonText:"Decline (optional)",onDecline:()=>{alert("\u0415\u0441\u043b\u0438 \u0412\u044b \u043d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b - \u043d\u0435\u043c\u0435\u043d\u0434\u043b\u0435\u043d\u043d\u043e \u043f\u043e\u043a\u0438\u043d\u044c\u0442\u0435 \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442!")}},"\u041c\u043e\u0439 \u0441\u0430\u0439\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u0439\u043b\u044b \u043a\u0443\u043a\u0438. \u0415\u0441\u043b\u0438 \u0412\u044b \u043d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b - \u043d\u0435\u043c\u0435\u043d\u0434\u043b\u0435\u043d\u043d\u043e \u043f\u043e\u043a\u0438\u043d\u044c\u0442\u0435 \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442!"," ",s.a.createElement("span",{style:{fontSize:"10px"}},"This bit of text is smaller :O"))))))}}var W=F;class G extends n.Component{render(){const{match:e}=this.props;return(s.a.createElement("div",{className:"public-div"},s.a.createElement(D,Object.assign({},this.props,{path:"/public/letters",mode:b[1]})),s.a.createElement(r.b,{path:e.path,component:e=>s.a.createElement(W,e)})))}}var J=G;class z extends n.Component{render(){const{component:e,authenticated:t,...a}=this.props;return(s.a.createElement(r.b,Object.assign({},a,{render:n=>t?s.a.createElement(e,Object.assign({},a,n)):s.a.createElement(r.a,{to:{pathname:"/login",state:{from:n.location}}})})))}}var Y=z;a(74);class q extends n.Component{constructor(){super(...arguments),this.state={username:"",password:""},this.handleUsernameChange=e=>{const{target:{value:t}}=e;this.setState({username:t})},this.handlePasswordChange=e=>{const{target:{value:t}}=e;this.setState({password:t})},this.handleSubmit=()=>{(function(e){return S({url:E+"/auth/signin",method:"POST",data:e})})({username:this.state.username,password:this.state.password}).then(e=>{console.log(e),localStorage.setItem(f,e.data.accessToken),this.props.onLogIn(this.props.history)}).catch(e=>{console.log(JSON.parse(JSON.stringify(e)).response.data.status)})}}render(){const{username:e,password:t}=this.state;return(s.a.createElement("div",{className:"login-div"},s.a.createElement("div",{className:"login-background"},s.a.createElement("p",{className:"warning"},K),s.a.createElement("span",{className:"field-name-span"},"\u043b\u043e\u0433\u0438\u043d:"),s.a.createElement("input",{type:"text",value:e,id:"username-input",className:"login-input",onChange:this.handleUsernameChange}),s.a.createElement("span",{id:"password-span",className:"field-name-span",onMouseDown:this.showPassword,onMouseUp:this.hidePassword},"\u043f\u0430\u0440\u043e\u043b\u044c:"),s.a.createElement("input",{type:"password",value:t,id:"password-input",className:"login-input",onChange:this.handlePasswordChange}),s.a.createElement("button",{className:"login-button",onClick:this.handleSubmit},"\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0441\u0432\u043e\u0431\u043e\u0434\u0443"))))}}const K="\u0415\u0441\u043b\u0438 \u0412\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u0442\u0435, \u043a\u0443\u0434\u0430 \u043f\u043e\u043f\u0430\u043b\u0438, \u043f\u0440\u043e\u0448\u0443, \u043f\u043e\u043a\u0438\u043d\u044c\u0442\u0435 \u044d\u0442\u0443 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044e, \u0432\u0435\u0434\u044c \u0412\u044b \u043d\u0435 \u043e\u0442\u044b\u0449\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0442\u043e\u0433\u043e, \u0447\u0435\u0433\u043e \u0445\u043e\u0442\u0438\u0442\u0435.";var Q=q,X=a(32),$=a.n(X);a(76);class ee extends n.Component{render(){return s.a.createElement("svg",{className:"garbage-logo-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 55 60.01",onClick:()=>this.props.onClick()},s.a.createElement("g",{className:"garbage"},s.a.createElement("rect",{width:"55",height:"60"}),s.a.createElement("path",{d:"M53.28,8.64H40.42v-2A6.71,6.71,0,0,0,33.62,0H21.38a6.71,6.71,0,0,0-6.8,6.6v2H1.72a1.67,1.67,0,1,0,0,3.33h3.1V51.1A9.05,9.05,0,0,0,14,60H41a9.05,9.05,0,0,0,9.18-8.91V12h3.1a1.67,1.67,0,1,0,0-3.33ZM18,6.6a3.32,3.32,0,0,1,3.36-3.27H33.62A3.32,3.32,0,0,1,37,6.6v2H18ZM46.75,51.1A5.67,5.67,0,0,1,41,56.68H14A5.67,5.67,0,0,1,8.25,51.1V12H46.76V51.1Z"}),s.a.createElement("path",{d:"M27.5,50.71A1.69,1.69,0,0,0,29.22,49V19.61a1.72,1.72,0,0,0-3.44,0V49A1.7,1.7,0,0,0,27.5,50.71Z"}),s.a.createElement("path",{d:"M16.3,48.87A1.69,1.69,0,0,0,18,47.21V21.43a1.72,1.72,0,0,0-3.44,0V47.21A1.7,1.7,0,0,0,16.3,48.87Z"}),s.a.createElement("path",{d:"M38.7,48.87a1.69,1.69,0,0,0,1.72-1.66V21.43a1.72,1.72,0,0,0-3.44,0V47.21A1.69,1.69,0,0,0,38.7,48.87Z"})))}}var te=ee,ae=a(10),ne=a.n(ae),se=a(18),le=a.n(se);a(77);class oe extends n.Component{constructor(){super(...arguments),this.state={img:ne.a,imgControlDisplay:"none"},this.fileInputHandler=e=>{const{target:{files:t}}=e;1===t.length&&"image/jpeg"===t[0].type&&(this.setState({img:URL.createObjectURL(t[0])}),this.props.handleImgChange(t[0]))},this.onImgOver=()=>{const{img:e}=this.state;e===ne.a?this.setState({img:le.a}):this.setState({imgControlDisplay:"block"})},this.onImgLeave=()=>{const{img:e}=this.state;e===le.a?this.setState({img:ne.a}):this.setState({imgControlDisplay:"none"})},this.removeCurrentImg=()=>{this.setState({img:ne.a}),this.props.handleImgChange(null)}}componentWillReceiveProps(e){if(null!==e.pictureName){const t=E+"/public/pictures/"+e.pictureName;this.setState({img:t})}}render(){let{img:e,imgControlDisplay:t}=this.state;return(s.a.createElement("div",{className:"img-uploader-div"},s.a.createElement("div",{className:"img-control-div",style:{display:t},onMouseOver:this.onImgOver,onMouseLeave:this.onImgLeave},s.a.createElement(te,{onClick:this.removeCurrentImg})),s.a.createElement("input",{type:"file",ref:e=>this.fileInput=e,onChange:this.fileInputHandler}),s.a.createElement("img",{className:"upload-img",onClick:()=>this.fileInput.click(),onMouseOver:this.onImgOver,onMouseLeave:this.onImgLeave,src:e,alt:""})))}}var ie=oe;function re(e){let t=document.getElementById(e);t.style.height="1px",t.style.height=-8+t.scrollHeight+"px"}a(78);class ce extends n.Component{constructor(){super(...arguments),this.letterStates=[{value:"PUBLIC",label:"\u043f\u0430\u0431\u043b\u0438\u043a",className:"dropdowns"},{value:"DRAFT",label:"\u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a",className:"dropdowns"}],this.state={id:null,title:"",dateOfPublication:new Date,htmlText:"",picture:null,pictureName:null,letterState:this.letterStates[1],isBeforeRemovingPopUp:!1},this.componentDidMount=async()=>{var e;"new_letter"!==this.props.match.params.id&&(e=parseInt(this.props.match.params.id),S({url:E+"/authorship/letters/"+e,method:"GET",data:null})).then(e=>{const{id:t,title:a,dateOfPublication:n,htmlText:s,pictureName:l,state:o}=e.data;this.setState({id:t,title:a,dateOfPublication:new Date(n),htmlText:s,pictureName:l,letterState:this.letterStates.find(e=>e.value===o)})})},this.componentDidUpdate=()=>{re("textarea-input")},this.saveLetter=async e=>{e.preventDefault();const{id:t,title:a,dateOfPublication:n,htmlText:s,picture:l,pictureName:o,letterState:i}=this.state;let r={id:t,title:a,dateOfPublication:n,htmlText:s,state:i.value};if(null===t||null!==l){const e=await this.savePicture();r.pictureName=e}else null!==t&&null===l&&(r.pictureName=o);(function(e){return S({url:E+"/authorship/letters/save_letter",method:"POST",data:e})})(r).then(e=>{200===e.status&&this.props.cellContentsUpdate()})},this.showBeforeRemovingPopUp=()=>{this.setState({isBeforeRemovingPopUp:!this.state.isBeforeRemovingPopUp})},this.allowRemoving=()=>{const{id:e}=this.state;null!==e&&function(e){return S({url:E+"/authorship/letters/delete_letter/"+e,method:"POST",data:null})}(e).then(e=>{200===e.status&&(this.setState({isBeforeRemovingPopUp:!1}),this.props.cellContentsUpdate())})},this.savePicture=async()=>{const e=new FormData;e.append("pictureFile",this.state.picture);const t=await(a=e,S({url:E+"/authorship/pictures/save_picture",method:"POST",data:a}));var a;if(200===t.status)return t.data.fileName},this.handleTitleChange=e=>{const t=e.target.value;this.setState({title:t})},this.handleHtmlTextChange=e=>{re(e.target.id);const t=e.target.value;this.setState({htmlText:t})},this.handleDropDownSelect=e=>{this.setState({letterState:e})},this.handleImgChange=e=>{null!==e?this.setState({picture:e}):this.setState({picture:null,pictureName:null})}}render(){const{title:e,dateOfPublication:t,htmlText:a,pictureName:n,isBeforeRemovingPopUp:l}=this.state;return(s.a.createElement("div",{className:"background-letter-editor-div"},s.a.createElement("div",{className:"letter-editor"},s.a.createElement("input",{id:"title-input",className:"input-authorship-field",type:"text",placeholder:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435",value:e,onChange:this.handleTitleChange}),s.a.createElement(Z,{date:t}),s.a.createElement("div",null,s.a.createElement("textarea",{id:"textarea-input",className:"input-authorship-field",type:"text",value:a,onChange:this.handleHtmlTextChange}),s.a.createElement(ie,{pictureName:n,handleImgChange:this.handleImgChange}),s.a.createElement("div",{id:"letter-save-div"},s.a.createElement($.a,{options:this.letterStates,onChange:this.handleDropDownSelect,value:this.state.letterState,className:"dropdown-selector",placeholderClassName:"dropdown-placeholder",controlClassName:"control-dropdown-selector",menuClassName:"menu-dropdown-selector",arrowClassName:"arrow-dropdown-selector"}),s.a.createElement("div",{className:"save-delete-div"},s.a.createElement("button",{className:"save-button",onClick:this.saveLetter},"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),s.a.createElement("button",{className:"delete-button",onClick:this.showBeforeRemovingPopUp},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c")),s.a.createElement("button",{className:"logout-button",onClick:()=>this.props.onLogOut(this.props.history)},"\u0432\u044b\u0439\u0442\u0438")))),l?s.a.createElement(he,{allowRemoving:this.allowRemoving,showPopUp:this.showBeforeRemovingPopUp}):null))}}const he=e=>{let{...t}=e;return(s.a.createElement("div",null,s.a.createElement("div",{className:"popup-background"}),s.a.createElement("div",{className:"popup-context-div"},s.a.createElement("div",{className:"message"},"\u0422\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0447\u0435\u0448\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e?"),s.a.createElement("button",{className:"choice-button",onClick:t.allowRemoving},"\u0434\u0430"),s.a.createElement("button",{className:"choice-button",onClick:t.showPopUp},"\u043d\u0435\u0442"))))};var de=ce;class me extends n.Component{constructor(){super(...arguments),this.refToContentsUpdate=s.a.createRef(),this.updateContents=()=>{this.refToContentsUpdate.current.updateContents()}}render(){const{match:e}=this.props;return(s.a.createElement("div",{className:"authorship-div"},s.a.createElement(D,Object.assign({},this.props,{path:"/authorship/letters",mode:b[0],ref:this.refToContentsUpdate})),s.a.createElement(r.b,{path:e.path,component:e=>s.a.createElement(de,Object.assign({},e,this.props,{cellContentsUpdate:this.updateContents}))})))}}var ue=me;a(79);class pe extends n.Component{constructor(){super(...arguments),this.state={isAuthenticated:!1},this.componentWillReceiveProps=async()=>{await S({url:E+"/auth/is_authed",method:"GET"}).then(e=>{200===e.status&&this.setState({isAuthenticated:!0})}).catch(e=>{this.setState({isAuthenticated:!1})})},this.handleLogIn=e=>{this.setState({isAuthenticated:!0}),e.push("/authorship/letters/last")},this.handleLogOut=e=>{localStorage.removeItem(f),this.setState({isAuthenticated:!1}),e.push("/public/letters/last")}}render(){return s.a.createElement(i.a,null,s.a.createElement("div",null,s.a.createElement(r.d,null,s.a.createElement(r.b,{exect:!0,path:"/public/letters/:id",component:J}),s.a.createElement(r.b,{path:"/login",component:e=>s.a.createElement(Q,Object.assign({onLogIn:this.handleLogIn},e))}),s.a.createElement(Y,{authenticated:this.state.isAuthenticated,onLogOut:this.handleLogOut,path:"/authorship/letters/:id",component:ue}),s.a.createElement(r.a,{from:"/",to:"/public/letters/last"}))))}}var ge=pe;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[80,2,1,3,4]]]);
//# sourceMappingURL=main.f541ab44.chunk.js.map